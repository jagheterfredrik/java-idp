<?xml version="1.0" encoding="UTF-8"?>

<!-- A single-entity "Federation". An IdP and SP in example.org.
	 Endpoints are hosted on a single server named shibboleth.example.org
	 and have a URL like: "http://shibboleth.example.org:8080/shibboleth/SSO"
	 
	 Notes:
	 This file must agree with IdP.xml and SP.xml.
	 The Endpoint URLs must agree with Servlet mappings in web.xml
	    [in the project source, web.xml is webAppConfig/IdP-SP.xml]
-->

<!--  A single Entity Federation (a Group with one member) -->
<EntitiesDescriptor
    xmlns="urn:oasis:names:tc:SAML:2.0:metadata"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:oasis:names:tc:SAML:2.0:metadata ../schemas/sstc-saml-schema-metadata-2.0.xsd urn:mace:shibboleth:metadata:1.0 ../schemas/shibboleth-metadata-1.0.xsd"
    Name="urn:mace:inqueue"
    validUntil="2010-01-01T00:00:00Z">

	<!-- Then Entity, an organization named example.org  -->
	<EntityDescriptor entityID="urn:mace:inqueue:example.org">

	    <!-- The login function of the IdP, previously called the "Handle Server" 
	    	 Accepts a local logon and generates an Authentication Assertion.
	    -->
		<IDPSSODescriptor protocolSupportEnumeration="urn:oasis:names:tc:SAML:1.1:protocol urn:mace:shibboleth:1.0">
			<Extensions>
		        <shib:Scope xmlns:shib="urn:mace:shibboleth:metadata:1.0">example.org</shib:Scope>
			</Extensions>
			<KeyDescriptor use="signing">
			    <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
			        <ds:KeyName>shibboleth.example.org</ds:KeyName>
			    </ds:KeyInfo>
			</KeyDescriptor>
			<NameIDFormat>urn:mace:shibboleth:1.0:nameIdentifier</NameIDFormat>
			<SingleSignOnService Binding="urn:mace:shibboleth:1.0:profiles:AuthnRequest"
			    Location="http://shibboleth.example.org:8080/shibboleth/SSO"/>
		</IDPSSODescriptor>
		
		<!-- The Attribute Authority responds to an Attribute Request -->
		<AttributeAuthorityDescriptor protocolSupportEnumeration="urn:oasis:names:tc:SAML:1.1:protocol">
			<Extensions>
		        <shib:Scope xmlns:shib="urn:mace:shibboleth:metadata:1.0">example.org</shib:Scope>
			</Extensions>
			<AttributeService Binding="urn:oasis:names:tc:SAML:1.0:bindings:SOAP-binding"
			    Location="http://shibboleth.example.org:8080/shibboleth/AA"/>
			<NameIDFormat>urn:mace:shibboleth:1.0:nameIdentifier</NameIDFormat>
		</AttributeAuthorityDescriptor>
		
		<!-- A recipient of Assertions in the SP.
			 There may be many such recipients, as the Assertions can be
			 configured to go to /shibboleth or to each Resource context directory.  
		-->
		<SPSSODescriptor protocolSupportEnumeration="urn:oasis:names:tc:SAML:1.1:protocol">
			<KeyDescriptor>
			    <ds:KeyInfo xmlns:ds="http://www.w3.org/2000/09/xmldsig#">
			        <ds:KeyName>shibboleth.example.org</ds:KeyName>
			    </ds:KeyInfo>
			</KeyDescriptor>
			<NameIDFormat>urn:mace:shibboleth:1.0:nameIdentifier</NameIDFormat>
		    <AssertionConsumerService index="0"
		        Binding="urn:oasis:names:tc:SAML:1.0:profiles:browser-post"
		        Location="http://shibboleth.example.org:8080/shibboleth/Shibboleth.shire"/>
		</SPSSODescriptor>
		
		<!-- Oranization data. In this example it is meaningless. -->
		<Organization>
		    <OrganizationName xml:lang="en">Example Entity</OrganizationName>
		    <OrganizationDisplayName xml:lang="en">Example Entity</OrganizationDisplayName>
		    <OrganizationURL xml:lang="en">http://www.example.org</OrganizationURL>
		</Organization>
		<ContactPerson contactType="technical">
		    <SurName>Example Support</SurName>
		    <EmailAddress>supportguy@mail.example.org</EmailAddress>
		</ContactPerson>
		
	</EntityDescriptor>

</EntitiesDescriptor>
