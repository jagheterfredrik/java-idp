<?xml version="1.0" encoding="UTF-8"?>

<ShibbolethOriginConfig 
	xmlns="urn:mace:shibboleth:origin:1.0" 
	xmlns:cred="urn:mace:shibboleth:credentials:1.0" 
	xmlns:name="urn:mace:shibboleth:namemapper:1.0" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="urn:mace:shibboleth:origin:1.0 origin.xsd" 
	AAUrl="https://localhost/shibboleth/AA" 
	resolverConfig="/conf/resolver.xml"
	defaultRelyingParty="https://example.org/shibboleth/target" 
	providerId="https://example.org/shibboleth/origin">

	<RelyingParty name="https://example.org/shibboleth/target" signingCredential="foo">
		<HSNameFormat nameMapping="shm"/>
	</RelyingParty>

	<!-- You'll need to get a test credential from an InQueue CA -->
	<!--
	<RelyingParty name="urn:mace:inqueue" signingCredential="inqueue_cred">
		<HSNameFormat nameMapping="shm"/>
	</RelyingParty>
	-->
	
	<ReleasePolicyEngine>
		<ArpRepository implementation="edu.internet2.middleware.shibboleth.aa.arp.provider.FileSystemArpRepository">
			<Path>/conf/arps/</Path>
		</ArpRepository>
	</ReleasePolicyEngine>

	<!--
	<Logging>
		<Log4JConfig location="file:///tmp/log4j.properties" />
	</Logging>
	<Logging>
		<ErrorLog level="DEBUG" location="file:///tmp/shib-error.log" />
		<TransactionLog location="file:///tmp/shib-access.log" />
	</Logging>
	-->

	<NameMapping 
		xmlns="urn:mace:shibboleth:namemapper:1.0" 
		id="shm" 
		format="urn:mace:shibboleth:1.0:nameIdentifier" 
		type="SharedMemoryShibHandle" 
		handleTTL="1800"/>

	<Credentials xmlns="urn:mace:shibboleth:credentials:1.0">
		<FileResolver Id="foo">
			<Key format="PEM">
				<Path>/conf/localhost.key</Path>
			</Key>
			<Certificate format="PEM">
				<Path>/conf/localhost.crt</Path>
			</Certificate>
		</FileResolver>
	</Credentials>
	
	<FederationProvider type="edu.internet2.middleware.shibboleth.metadata.provider.XMLMetadataLoadWrapper"
                uri="/conf/localhost-sites.xml"/>
    <!--
	<FederationProvider type="edu.internet2.middleware.shibboleth.metadata.provider.XMLMetadataLoadWrapper"
                uri="/conf/IQ-sites.xml"/>
	-->
</ShibbolethOriginConfig>

