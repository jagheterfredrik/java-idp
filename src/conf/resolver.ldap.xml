<AttributeResolver xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="urn:mace:shibboleth:resolver:1.0" xsi:schemaLocation="urn:mace:shibboleth:resolver:1.0 shibboleth-resolver-1.0.xsd">
	
	<SimpleAttributeDefinition id="urn:mace:dir:attribute-def:eduPersonEntitlement">
		<DataConnectorDependency requires="directory"/>
	</SimpleAttributeDefinition>
	
	<SimpleAttributeDefinition id="urn:mace:dir:attribute-def:eduPersonAffiliation">
		<DataConnectorDependency requires="directory"/>
	</SimpleAttributeDefinition>
	
	<!-- To use these attributes, you should change the smartScope value to match your site's domain name. -->

	<!--
	<SimpleAttributeDefinition id="urn:mace:dir:attribute-def:eduPersonScopedAffiliation" smartScope="shibdev.edu">
		<AttributeDependency requires="urn:mace:dir:attribute-def:eduPersonAffiliation"/>
	</SimpleAttributeDefinition>

	<SimpleAttributeDefinition id="urn:mace:dir:attribute-def:eduPersonPrincipalName" smartScope="shibdev.edu">
		<DataConnectorDependency requires="directory"/>
	</SimpleAttributeDefinition>
	-->

	<JNDIDirectoryDataConnector id="directory">
		<Search filter="cn=%PRINCIPAL%">
			<Controls searchScope="SUBTREE_SCOPE" returningObjects="false" />
		</Search>
		<Property name="java.naming.factory.initial" value="com.sun.jndi.ldap.LdapCtxFactory" />
		<Property name="java.naming.provider.url" value="ldap://ldap.example.edu/dc=example,dc=edu" />
		<Property name="java.naming.security.principal" value="cn=admin,dc=example,dc=edu" />
		<Property name="java.naming.security.credentials" value="examplepw" />
	</JNDIDirectoryDataConnector>
	
	<!-- An example of how to do a simple ldap bind over SSL -->
	<!-- 
	<JNDIDirectoryDataConnector id="directorySecure">
		<Search filter="cn=%PRINCIPAL%">
			<Controls searchScope="SUBTREE_SCOPE" returningObjects="false" />
		</Search>
		<Property name="java.naming.factory.initial" value="com.sun.jndi.ldap.LdapCtxFactory" />
		<Property name="java.naming.provider.url" value="ldap://ldap.example.edu:636/dc=example,dc=edu" />
		<Property name="java.naming.security.protocol" value="ssl" />
		<Property name="java.naming.security.principal" value="cn=admin,dc=example,dc=edu" />
		<Property name="java.naming.security.credentials" value="examplepw" />
	</JNDIDirectoryDataConnector>
	-->
	
	<!-- An example of how to setup ldap with connection pooling -->
	<!-- 
	<JNDIDirectoryDataConnector id="directoryPooled">
		<Search filter="cn=%PRINCIPAL%">
			<Controls searchScope="SUBTREE_SCOPE" returningObjects="false" />
		</Search>
		<Property name="java.naming.factory.initial" value="com.sun.jndi.ldap.LdapCtxFactory" />
		<Property name="java.naming.provider.url" value="ldap://ldap.example.edu/dc=example,dc=edu" />
		<Property name="com.sun.jndi.ldap.connect.pool" value="true" />
		<Property name="com.sun.jndi.ldap.connect.pool.initsize" value="5" />
		<Property name="com.sun.jndi.ldap.connect.pool.prefsize" value="5" />
		<Property name="com.sun.jndi.ldap.connect.pool.authentication" value="none simple DIGEST-MD5" />
		<Property name="com.sun.jndi.ldap.connect.pool.protocol" value="plain ssl" />
	</JNDIDirectoryDataConnector>
	-->

</AttributeResolver>
