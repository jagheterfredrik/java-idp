<?xml version="1.0" encoding="UTF-8"?>

<AttributeFilterPolicyGroup id="ShibbolethFilterPolicy" 
                            xmlns="urn:mace:shibboleth:2.0:afp"
                            xmlns:basic="urn:mace:shibboleth:2.0:afp:mf:basic"
                            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                            xsi:schemaLocation="urn:mace:shibboleth:2.0:afp classpath:/schema/shibboleth-2.0-afp.xsd
                                                urn:mace:shibboleth:2.0:afp:mf:basic classpath:/schema/shibboleth-2.0-afp-mf-basic.xsd ">

    <!-- 
          Releases to anyone:
            * any value of uid
            * only the member value of affiliation
    -->
    <!--
    <AttributeFilterPolicy id="ReleaseToAnyone">
        <PolicyRequirementRule xsi:type="basic:ANY" />
        
        <AttributeRule attributeID="uid">
            <PermitValueRule xsi:type="basic:ANY" />
        </AttributeRule>
        
        <AttributeRule attributeID="affiliation">
            <PermitValueRule value="member"
                             xsi:type="basic:AttributeValueString"/>
        </AttributeRule>
        
    </AttributeFilterPolicy>
    -->
    
    
    <!-- 
          Releases to only SP 1:
            * any value of uid
            * scoped primary affiliation if the scope is the IdP 1 and the value is staff, faculty, or student
            * any value of affiliation
            * any value of full name
    -->
    <!--
    <AttributeFilterPolicy id="ReleaseToSP1">
        <PolicyRequirementRule value="urn:example.org:myFederation:sp1" 
                               xsi:type="basic:AttributeRequesterString" />
        
        <AttributeRule attributeID="uid">
            <PermitValueRule xsi:type="basic:ANY" />
        </AttributeRule>
        
        <AttributeRule attributeID="scopedPrimaryAffiliation">
            <PermitValueRule xsi:type="basic:AND">
                <basic:Rule value="urn:example.org:myFederation:idp1" 
                            xsi:type="AttributeScopeString" />
                <basic:Rule xsi:type="basic:OR">
                    <basic:Rule value="staff"
                                xsi:type="AttributeValueString" />
                    <basic:Rule value="faculty"
                                xsi:type="AttributeValueString" />
                    <basic:Rule value="student"
                                xsi:type="AttributeValueString" />
                </basic:Rule>
            </PermitValueRule>
        </AttributeRule>
        
        <AttributeRule attributeID="affiliation">
            <PermitValueRule xsi:type="basic:ANY" />
        </AttributeRule>
        
        <AttributeRule attributeID="fullName">
            <PermitValueRule xsi:type="basic:ANY" />
        </AttributeRule>
        
    </AttributeFilterPolicy>
    -->
    
</AttributeFilterPolicyGroup>