<?xml version="1.0" encoding="UTF-8"?>

<AttributeResolver xmlns="urn:mace:shibboleth:2.0:resolver"
                   xmlns:resolver="urn:mace:shibboleth:2.0:resolver"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns:pc="urn:mace:shibboleth:2.0:resolver:pc"
                   xmlns:ad="urn:mace:shibboleth:2.0:resolver:ad"
	               xmlns:dc="urn:mace:shibboleth:2.0:resolver:dc"
                   xmlns:enc="urn:mace:shibboleth:2.0:attribute:encoder"
	               xsi:schemaLocation="urn:mace:shibboleth:2.0:resolver classpath:/schema/shibboleth-2.0-attribute-resolver.xsd
                                       urn:mace:shibboleth:2.0:resolver:pc classpath:/schema/shibboleth-2.0-attribute-resolver-pc.xsd
                                       urn:mace:shibboleth:2.0:resolver:ad classpath:/schema/shibboleth-2.0-attribute-resolver-ad.xsd
                                       urn:mace:shibboleth:2.0:resolver:dc classpath:/schema/shibboleth-2.0-attribute-resolver-dc.xsd
                                       urn:mace:shibboleth:2.0:attribute:encoder classpath:/schema/shibboleth-2.0-attribute-encoder.xsd">

    <!-- ========================================== -->
    <!--      Attribute Definitions                 -->
    <!-- ========================================== -->
    
    <!-- Example attribute defintions -->
    <!--
    <resolver:AttributeDefinition id="uid" xsi:type="ad:Simple">
        <resolver:DataConnectorDependency ref="myLDAP" />
    </resolver:AttributeDefinition>
    -->
    
    <!--
    <resolver:AttributeDefinition id="scopedPrimaryAffiliation" xsi:type="ad:Scoped"
                                  scope="example.org"
                                  sourceAttributeID="eduPersonPrimaryAffiliation">
        <resolver:DataConnectorDependency ref="myLDAP" />
        
        <resolver:AttributeEncoder xsi:type="enc:SAML1ScopedString"
                                   name="urn:mace:dir:attribute-def:eduPersonScopedAffiliation"/>
        
        <resolver:AttributeEncoder xsi:type="enc:SAML2ScopedString"
                                   name="urn:mace:dir:attribute-def:eduPersonScopedAffiliation"/>
                                   
        <resolver:AttributeEncoder xsi:type="enc:SAML2StringNameID" />

    </resolver:AttributeDefinition>
    -->
    
    <!--
    <resolver:AttributeDefinition id="affiliation" xsi:type="ad:Simple"
                                   sourceAttribute="eduPersonAffiliation">
        <resolver:DataConnectorDependency ref="staticAttributes" />
        <resolver:DataConnectorDependency ref="myLDAP" />
        
        <resolver:AttributeEncoder xsi:type="enc:SAML1String"
                                   name="urn:mace:dir:attribute-def:eduPersondAffiliation"/>
        
        <resolver:AttributeEncoder xsi:type="enc:SAML2String"
                                   name="urn:oid:1.3.6.1.4.1.5923.1.1.1.1"
                                   friendlyName="eduPersonAffiliation"/>
    </resolver:AttributeDefinition>
    -->
    
    <!--
    <resolver:AttributeDefinition id="fullName" xsi:type="Script" >
        <resolver:DataConnectorDependency ref="myLDAP" />
        
        <Script>
            <![CDATA[
                importPackage(Packages.edu.internet2.middleware.shibboleth.common.attribute.provider);
                fullname = new BasicAttribute("fullname");
                fullname.getValues().add(givenName.getValues().first() + " " + sn.getValues().first());
            ]]>
        </Script>
    </resolver:AttributeDefinition>
    -->
    
    
    <!-- ========================================== -->
    <!--      Data Connectors                       -->
    <!-- ========================================== -->
    
    <!-- Example Static Connector -->
    <!--
    <resolver:DataConnector id="staticAttributes" xsi:type="dc:Static">
        <dc:Attribute id="eduPersonAffiliation">
            <dc:Value>member</dc:Value>
        </dc:Attribute>
        <dc:Attribute id="eduPersonEntitlement">
            <dc:Value>urn:example.org:entitlement:entitlement1</dc:Value>
            <dc:Value>urn:mace:dir:entitlement:common-lib-terms</dc:Value>
        </dc:Attribute>
    </resolver:DataConnector>
    -->
    
    <!-- Example Relational Database Connector -->
    <!--
    <resolver:DataConnector id="mySIS" xsi:type="dc:RelationalDatabase">
        <dc:ApplicationManagedConnection jdbcDriver="oracle.jdbc.driver.OracleDriver"
                                         jdbcUrl="jdbc:oracle:thin:@db.example.org:1521:SomeDB"
                                         jdbcUserName="myid"
                                         jdbcPassword="mypassword" />
        <dc:QueryTemplate>
            <![CDATA[
                 SELECT * FROM student WHERE gzbtpid = ${principal}
             ]]>
        </dc:QueryTemplate>
    
        <dc:Column columnName="gzbtpid" attributeID="uid"/>
        <dc:Column columnName="fqlft" attributeID="gpa" type="Float"/>
    </resolver:DataConnector>
    -->
    
    <!-- Example LDAP Connector -->
    <!--
    <resolver:DataConnector id="myLDAP" xsi:type="LDAPDirectory"
                            ldapUrl="ldap://ldap.example.org"
                            baseDN="ou=people,dc=example,dc=org"
                            principal="uid=myservice,ou=system"
                            principalCredential="myServicePassword">
        <dc:FilterTemplate>
            <![CDATA[
                (uid=${principal})
            ]]>
        </dc:FilterTemplate>
    
    </resolver:DataConnector>
    -->
    
    <!-- ========================================== -->
    <!--      Principal Connectors                  -->
    <!-- ========================================== -->
    <resolver:PrincipalConnector xsi:type="pc:Direct" 
                                 id="directPC"
                                 nameIDFormat="urn:oasis:names:tc:SAML:1.0:nameid-format:unspecified" />

</AttributeResolver>