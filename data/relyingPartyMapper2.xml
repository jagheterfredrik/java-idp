<?xml version="1.0" encoding="ISO-8859-1"?>
<IdPConfig 
	xmlns="urn:mace:shibboleth:idp:config:1.0" 
	xmlns:cred="urn:mace:shibboleth:credentials:1.0" 
	xmlns:name="urn:mace:shibboleth:namemapper:1.0" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="urn:mace:shibboleth:idp:config:1.0 ../schemas/shibboleth-idpconfig-1.0.xsd">
		
	<RelyingParty 
		name="urn-x:testgroup" 
		providerId="urn-x:test:id1"
		signingCredential="test"
		passThruErrors="true" 
		defaultNameID="foo" />
	
	<AnonymousRelyingParty 
		providerId="urn-x:test:anonId" 
		signingCredential="test"
		defaultNameID="foo" />
	
	<DefaultRelyingParty 
		providerId="urn-x:test:defId" 
		signingCredential="test"
		defaultNameID="foo" />
	
<!-- Add back later <AttributeResolver config="$IDP_HOME$/etc/resolver.xml"/>-->
	
	<ReleasePolicyEngine>
		<ArpRepository implementation="edu.internet2.middleware.shibboleth.aa.arp.provider.FileSystemArpRepository">
			<Path>$IDP_HOME$/etc/arps/</Path>
		</ArpRepository>
	</ReleasePolicyEngine>

	<Logging>
		<ErrorLog level="WARN" location="$IDP_HOME$/logs/shib-error.log" />
		<TransactionLog level="INFO" location="$IDP_HOME$/logs/shib-access.log" />
	</Logging>

	<Credentials xmlns="urn:mace:shibboleth:credentials:1.0">
		<KeyStoreResolver Id="test" storeType="JKS">
			<Path>/conf/keystore.jks</Path>
			<KeyAlias>shibhs</KeyAlias>
			<CertAlias>shibhs</CertAlias>
			<StorePassword>shibhs</StorePassword>
			<KeyPassword>shibhs</KeyPassword>
		</KeyStoreResolver>
	</Credentials>

	
	<ProtocolHandler type="ShibbolethV1SSOHandler">
		<Location>https?://[^:/]+(:(443|80))?/$IDP_WEBAPP_NAME$/SSO</Location> 
	</ProtocolHandler>

	<MetadataProvider type="edu.internet2.middleware.shibboleth.metadata.FilesystemMetadataProvider"
                path="$IDP_HOME$/etc/example-metadata.xml"/>

</IdPConfig>